<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Custom Selector Test - Simple Article</title>
    <style>
      body {
        font-family: Georgia, serif;
        max-width: 800px;
        margin: 50px auto;
        padding: 20px;
        line-height: 1.6;
        background: #f5f5f5;
      }
      article {
        background: white;
        padding: 40px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #333;
        margin-bottom: 10px;
      }
      .metadata {
        color: #666;
        font-size: 14px;
        margin-bottom: 30px;
      }
      .content {
        color: #444;
      }
      .content h2 {
        color: #555;
        margin-top: 30px;
      }
      .test-info {
        background: #e8f4f8;
        border-left: 4px solid #2196f3;
        padding: 15px;
        margin-bottom: 30px;
        border-radius: 4px;
      }
      .test-info h3 {
        margin-top: 0;
        color: #1976d2;
      }
      code {
        background: #f5f5f5;
        padding: 2px 6px;
        border-radius: 3px;
        font-family: "Courier New", monospace;
      }
    </style>
  </head>
  <body>
    <div class="test-info">
      <h3>ðŸ§ª Custom Selector Test Instructions</h3>
      <ol>
        <li>
          <strong>Test 1 - No Custom Selector:</strong> Open the extension popup
          and try to extract content. It should work using the default
          <code>&lt;article&gt;</code> selector.
        </li>
        <li>
          <strong>Test 2 - Valid Custom Selector:</strong> Go to Custom Site
          Selectors settings, add a rule for this domain with selector
          <code>.content</code>. Content should be extracted successfully.
        </li>
        <li>
          <strong>Test 3 - Invalid Custom Selector:</strong> Change the custom
          selector to <code>.nonexistent-class</code>. It should fall back to
          default extraction (the whole article).
        </li>
        <li>
          <strong>Test 4 - Multiple Selectors:</strong> Use
          <code>.content h2, .content p</code> to extract just headings and
          paragraphs.
        </li>
      </ol>
      <p>
        <strong>Console Check:</strong> Open DevTools Console to see detailed
        logging of the extraction process.
      </p>
    </div>

    <article>
      <h1>Custom Selector Test Article</h1>

      <div class="metadata">
        <span>Published: January 31, 2026</span> |
        <span>Reading time: 2 minutes</span>
      </div>

      <div class="content">
        <p>
          This is a test article to verify that custom site selectors are
          working correctly in the Web-2-Notion extension.
        </p>

        <h2>Section 1: Default Extraction</h2>
        <p>
          When no custom selector is configured, the extension should
          automatically extract content from the
          <code>&lt;article&gt;</code> tag. This paragraph should be included in
          the extracted content.
        </p>

        <h2>Section 2: Custom Selector Test</h2>
        <p>
          If you configure a custom selector for this domain (e.g.,
          <code>.content</code>), the extension should only extract content from
          elements matching that selector.
        </p>

        <p>
          This means you can exclude metadata, navigation, and other elements
          you don't want in your Notion page.
        </p>

        <h2>Section 3: Fallback Behavior</h2>
        <p>
          If your custom selector doesn't match any elements (e.g.,
          <code>.nonexistent-class</code>), the extension should fall back to
          the default extraction method. This ensures you never get blank pages.
        </p>

        <h2>Section 4: Multiple Selectors</h2>
        <p>
          You can use comma-separated selectors (e.g.,
          <code>.content h2, .content p</code>) to extract multiple types of
          elements. The extension will combine all matching elements into a
          single content block.
        </p>

        <h2>Expected Results</h2>
        <ul>
          <li>âœ… Content is never blank (always has fallback)</li>
          <li>âœ… Custom selectors are respected when they match</li>
          <li>âœ… Multiple selectors work correctly</li>
          <li>âœ… Invalid selectors trigger fallback extraction</li>
          <li>âœ… Console logs show the extraction process clearly</li>
        </ul>
      </div>
    </article>

    <script>
      // Log page load for debugging
      console.log(
        "Custom Selector Test Page loaded at:",
        new Date().toISOString(),
      );
      console.log("Domain:", window.location.hostname);
      console.log(
        "Article elements found:",
        document.querySelectorAll("article").length,
      );
      console.log(
        ".content elements found:",
        document.querySelectorAll(".content").length,
      );
    </script>
  </body>
</html>

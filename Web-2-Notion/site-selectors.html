<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Custom Site Selectors - Web-2-Notion</title>
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background: #f5f5f5;
      }
      .container {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #333;
        margin-bottom: 30px;
      }
      .selector-item,
      .format-rule-item {
        display: flex;
        gap: 10px;
        margin-bottom: 15px;
        align-items: center;
        flex-wrap: wrap;
      }
      input[type="text"] {
        flex: 1;
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 14px;
      }
      button {
        padding: 10px 16px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
        height: 38px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }
      .add-btn {
        background: #007acc;
        color: white;
      }
      .remove-btn {
        background: #dc3545;
        color: white;
      }
      .save-btn {
        background: #28a745;
        color: white;
        padding: 10px 24px;
        font-size: 16px;
        margin-top: 20px;
        font-weight: 500;
      }
      .description {
        color: #666;
        margin-bottom: 20px;
        line-height: 1.5;
      }
      .example {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 4px;
        margin: 15px 0;
        border-left: 4px solid #007acc;
      }
      .status {
        margin-top: 15px;
        padding: 10px;
        border-radius: 4px;
        display: none;
      }
      .status.success {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }
      .status.error {
        background: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
      }
      .test-btn {
        background: #17a2b8;
        color: white;
        margin-left: 10px;
      }
      .test-btn:hover {
        background: #138496;
      }
      .shortcut-btn {
        background: linear-gradient(135deg, #007acc, #0056b3);
        color: white;
        border: none;
        border-radius: 8px;
        padding: 12px 20px;
        font-size: 14px;
        cursor: pointer;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
        display: inline-flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        min-width: 120px;
        height: auto;
      }
      .shortcut-btn:hover {
        background: linear-gradient(135deg, #0056b3, #004085);
        transform: translateY(-1px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      }
      .shortcut-text {
        font-weight: bold;
        font-size: 16px;
        font-family: monospace;
      }
      .shortcut-label {
        font-size: 12px;
        opacity: 0.9;
      }
      .back-btn {
        background: #6c757d;
        color: white;
        border: none;
        border-radius: 6px;
        padding: 10px 16px;
        font-size: 14px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }
      .back-btn:hover {
        background: #5a6268;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div
        style="
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
        "
      >
        <h1>Custom Site Selectors</h1>
        <button class="back-btn">‚Üê Back to Main Interface</button>
      </div>
      <p class="description">
        Configure custom CSS selectors for specific websites to control what
        content gets extracted when using "Save Webpage Content". This allows
        you to customize the auto-selected content for sites that don't work
        well with the default extraction.
      </p>

      <div style="text-align: center; margin: 15px 0">
        <button
          class="shortcut-btn"
          title="Click to see keyboard shortcut info"
        >
          <span class="shortcut-text">Ctrl+Shift+C</span>
          <span class="shortcut-label">Keyboard Shortcut</span>
        </button>
      </div>

      <div class="example">
        <strong>Example:</strong><br />
        For a site like "example.com", if you want to extract content only from
        the main article area, you could use a selector like:
        <code>article.main-content</code> or <code>#content</code> <br /><br />
        <strong>‚ö†Ô∏è Important:</strong>
        <ul style="margin: 10px 0; text-align: left">
          <li>
            <strong>Domain format:</strong> Enter just the domain (e.g.,
            "example.com", NOT "www.example.com" or "https://example.com")
          </li>
          <li>
            <strong>Reload required:</strong> After saving, you must
            <strong>reload the webpage</strong> for changes to take effect
          </li>
          <li>
            <strong>Multiple selectors:</strong> Use commas for multiple
            selectors (e.g., "article, .content, #main")
          </li>
        </ul>
      </div>

      <div id="selectors-container">
        <!-- Dynamic selector items will be added here -->
      </div>

      <button class="add-btn">Add Website Selector</button>
      <button class="test-btn">Test</button>

      <!-- Ignore Selectors Section -->
      <div
        style="
          margin-top: 40px;
          padding-top: 30px;
          border-top: 2px solid #e0e0e0;
        "
      >
        <h2 style="color: #333; margin-bottom: 15px">
          Ignore Selectors (Per Website)
        </h2>
        <p class="description">
          Specify elements to <strong>exclude from within</strong> the captured
          content on specific websites. These elements will be removed from the
          content selected by your custom selectors. Useful for removing
          navigation bars, buttons, breadcrumbs, or other unwanted elements that
          appear inside your selected content.
        </p>

        <div class="example">
          <strong>How it works:</strong><br />
          <ol style="margin: 10px 0; text-align: left; line-height: 1.6">
            <li>
              Your <strong>Custom Selector</strong> captures content (e.g.,
              <code>.body</code>)
            </li>
            <li>
              Your <strong>Ignore Selectors</strong> remove unwanted elements
              from within that content
            </li>
            <li>The cleaned content is sent to Notion</li>
          </ol>
          <strong>Example:</strong><br />
          <ul style="margin: 10px 0; text-align: left">
            <li>
              <strong>Domain:</strong> <code>servicenow.com</code><br />
              <strong>Custom Selector:</strong> <code>.body</code> (captures
              main content)<br />
              <strong>Ignore:</strong>
              <code>nav, .button, .breadcrumb</code> (removes navigation,
              buttons, breadcrumbs from within <code>.body</code>)
            </li>
            <li>
              <strong>Domain:</strong> <code>example.com</code><br />
              <strong>Custom Selector:</strong> <code>article</code> (captures
              article)<br />
              <strong>Ignore:</strong>
              <code>.share-buttons, .author-bio, .related-posts</code> (removes
              these from within the article)
            </li>
          </ul>
          <strong>üí° Tip:</strong> Use commas to separate multiple selectors for
          the same domain.
        </div>

        <div id="ignore-selectors-container">
          <!-- Dynamic ignore selector items will be added here -->
        </div>

        <button class="add-btn" id="add-ignore-selector-btn">
          Add Ignore Selector
        </button>
      </div>

      <!-- Custom Formatting Rules Section -->
      <div
        style="
          margin-top: 40px;
          padding-top: 30px;
          border-top: 2px solid #e0e0e0;
        "
      >
        <h2 style="color: #333; margin-bottom: 15px">
          Custom Formatting Rules
        </h2>
        <p class="description">
          Configure custom formatting transformations for specific HTML
          elements. For example, convert
          <code>&lt;span class="ph uicontrol"&gt;</code> to
          <strong>bold text</strong>.
        </p>

        <div
          style="
            background: #fff3cd;
            padding: 12px;
            border-left: 4px solid #ffc107;
            margin-bottom: 15px;
            border-radius: 4px;
          "
        >
          <strong>üí° Important Notes:</strong>
          <ul style="margin: 8px 0 0 20px; font-size: 13px; line-height: 1.6">
            <li>
              <strong>Inline elements</strong> (like <code>span</code>,
              <code>a</code>): The entire element is replaced with the
              formatting tag
            </li>
            <li>
              <strong>Block ‚Üí Inline</strong> (like <code>div</code> ‚Üí
              <code>em</code>): Only the child content is wrapped, preserving
              the container structure
            </li>
            <li>
              <strong>Block ‚Üí Block</strong> (like <code>div</code> ‚Üí
              <code>blockquote</code>): The entire container is replaced while
              preserving content and classes
            </li>
            <li>
              <strong>Best practice:</strong> Use <code>blockquote</code> for
              note sections, and target inner elements like
              <code>.note__body</code> for additional formatting
            </li>
            <li>
              <strong>Testing:</strong> Check the browser console for detailed
              logs about which elements are being formatted
            </li>
          </ul>
        </div>

        <div class="example">
          <strong>Example Rules:</strong><br />
          <ul style="margin: 10px 0; text-align: left">
            <li>
              <strong>Selector:</strong> <code>span.ph.uicontrol</code> ‚Üí
              <strong>Replacement:</strong> <code>strong</code> (for
              <strong>bold</strong>)
            </li>
            <li>
              <strong>Selector:</strong> <code>span.ph.filepath</code> ‚Üí
              <strong>Replacement:</strong> <code>code</code> (for
              <code>monospace</code>)
            </li>
            <li>
              <strong>Selector:</strong> <code>span.keyword</code> ‚Üí
              <strong>Replacement:</strong> <code>em</code> (for
              <em>italic</em>)
            </li>
            <li>
              <strong>Selector:</strong> <code>div.note.note_note</code> ‚Üí
              <strong>Replacement:</strong> <code>blockquote</code> (for
              emphasized block)
            </li>
          </ul>
          <strong>Allowed replacement tags:</strong>
          <ul style="margin: 5px 0; text-align: left; font-size: 13px">
            <li>
              <strong>Inline:</strong> <code>strong</code>, <code>em</code>,
              <code>code</code>, <code>mark</code>, <code>u</code>,
              <code>del</code>, <code>b</code>, <code>i</code>
            </li>
            <li><strong>Block:</strong> <code>blockquote</code></li>
          </ul>
        </div>

        <div id="format-rules-container">
          <!-- Dynamic format rule items will be added here -->
        </div>

        <button class="add-btn" id="add-format-rule-btn">
          Add Formatting Rule
        </button>

        <div id="status" class="status"></div>

        <div style="display: flex; justify-content: flex-end; margin-top: 20px">
          <button class="save-btn" id="save-settings-btn">Save Settings</button>
        </div>
      </div>
    </div>

    <script src="site-selectors.js"></script>
  </body>
</html>
